(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(t){t.exports={discounts:{fixed:2,percent:.1}}},,,function(t){t.exports={products:[{id:1,name:"Schnitzel",price:9.9},{id:2,name:"Pommes",price:3.5},{id:3,name:"Salat",price:5.5},{id:4,name:"Cola",price:2.5}]}},,function(t,e,a){t.exports=a(25)},,,,,,function(t,e,a){},,function(t,e,a){},,function(t,e,a){},,function(t,e,a){"use strict";a.r(e);var n=a(0),c=a.n(n),i=a(10),r=a.n(i),s=a(2),o=a(12),u=a(3),l=a(4),d=a(6),m=a(5),p=a(7),h=a(1),b=(a(19),function(t){function e(t){var a;return Object(u.a)(this,e),(a=Object(d.a)(this,Object(m.a)(e).call(this,t))).clickHandler=a.clickHandler.bind(Object(h.a)(Object(h.a)(a))),a}return Object(p.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){}},{key:"clickHandler",value:function(t){this.props.addToCart(t)}},{key:"render",value:function(){var t=this,e=this.props.products;return c.a.createElement("div",{className:"Products"},c.a.createElement("h1",null,"Produktauswahl"),e&&e.map(function(e){return c.a.createElement("div",{className:"product",key:e.id},c.a.createElement("p",null,e.name),c.a.createElement("p",null,e.price.toFixed(2)," \u20ac"),c.a.createElement("div",{className:"add-to-cart-button"},c.a.createElement("i",{id:e.id,onClick:t.clickHandler,className:"fas fa-shopping-cart"})))}))}}]),e}(n.Component)),f=(a(21),a(8)),v=function(t){function e(){return Object(u.a)(this,e),Object(d.a)(this,Object(m.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=f.discounts;return c.a.createElement("div",{className:"Discount"},c.a.createElement("form",null,c.a.createElement("fieldset",null,c.a.createElement("legend",null,"Bitte w\xe4hlen Sie Ihren Rabatt:"),c.a.createElement("div",{className:"radio-buttons"},c.a.createElement("label",{className:"radio-container",htmlFor:"discount-fixed"},t.fixed," Euro Rabatt",c.a.createElement("input",{type:"radio",id:"discount-fixed",name:"discount",value:"fixed",onChange:this.props.setDiscount}),c.a.createElement("span",{className:"checkmark"})),c.a.createElement("label",{className:"radio-container",htmlFor:"discount-percent"},100*t.percent,"% Rabatt",c.a.createElement("input",{type:"radio",id:"discount-percent",name:"discount",value:"percent",onChange:this.props.setDiscount}),c.a.createElement("span",{className:"checkmark"}))))))}}]),e}(n.Component),j=(a(23),function(t){function e(){return Object(u.a)(this,e),Object(d.a)(this,Object(m.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){console.log("props in cart",this.props)}},{key:"render",value:function(){var t=this,e=this.props.cart;return e.cartItems[0]?c.a.createElement("div",{className:"Cart"},c.a.createElement("h1",null,"Warenkorb"),e&&e.cartItems.map(function(e){return c.a.createElement("div",{key:e.id,className:"cart-item"},c.a.createElement("div",null,e.name),c.a.createElement("div",{className:"cart-item-quantity"},c.a.createElement("input",{type:"number",min:"1",max:"99",id:e.id,value:e.quantity,onChange:t.props.updateQuantity}),c.a.createElement("div",{className:"remove-item"},c.a.createElement("i",{className:"fas fa-trash",onClick:t.props.removeCartItem,id:e.id}))))}),e.subtotal&&c.a.createElement("div",{className:"discount"},c.a.createElement(v,{setDiscount:this.props.setDiscount}),c.a.createElement("div",{className:"item-subtotal"},"Zwischensumme: ",e.subtotal.toFixed(2)," \u20ac"),c.a.createElement("div",{className:"item-subtotal"},"Rabatt: ",(e.total-e.subtotal||0).toFixed(2)," \u20ac"),c.a.createElement("div",{className:"item-total"},"Gesamt: ",(e.total||e.subtotal).toFixed(2)," \u20ac"))):c.a.createElement("div",{className:"Cart"},c.a.createElement("h1",null,"Warenkorb"),c.a.createElement("p",null,"Der Warenkorb ist leer."))}}]),e}(n.Component)),O=a(11),E=function(t){function e(t){var a;return Object(u.a)(this,e),(a=Object(d.a)(this,Object(m.a)(e).call(this,t))).state={cart:{cartItems:[],discount:0,subtotal:null,total:null},products:O.products},a.addToCart=a.addToCart.bind(Object(h.a)(Object(h.a)(a))),a.getTotal=a.getTotal.bind(Object(h.a)(Object(h.a)(a))),a.removeCartItem=a.removeCartItem.bind(Object(h.a)(Object(h.a)(a))),a.setDiscount=a.setDiscount.bind(Object(h.a)(Object(h.a)(a))),a.updateQuantity=a.updateQuantity.bind(Object(h.a)(Object(h.a)(a))),a}return Object(p.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){console.log(f.discounts.percent)}},{key:"componentDidUpdate",value:function(){console.log("updated State",this.state)}},{key:"addToCart",value:function(t){var e,a=this,n=parseInt(t.target.id),c=this.state.cart.cartItems,i=this.state.products.find(function(t){return t.id===n}),r=c.find(function(t){return t.id===i.id});r?e=c.map(function(t){return t.id===r.id&&t.quantity++,t}):(i.quantity=1,e=[].concat(Object(o.a)(c),[i]),this.setState({cart:Object(s.a)({},this.state.cart,{cartItems:e})})),this.setState({cart:Object(s.a)({},this.state.cart,{cartItems:e})},function(){a.getTotal()})}},{key:"getTotal",value:function(){var t,e=this.state.cart,a=e.cartItems,n=e.discount;t=a.length?a.map(function(t){return t.price*t.quantity}).reduce(function(t,e){return t+e}):null;var c,i=f.discounts;"fixed"===n?c=t-i.fixed:"percent"===n&&(c=(1-i.percent)*t),this.setState(Object(s.a)({},this.state,{cart:Object(s.a)({},this.state.cart,{subtotal:t,total:c})}))}},{key:"removeCartItem",value:function(t){var e=this,a=parseInt(t.target.id);console.log(a);var n=this.state.cart.cartItems,c=n.find(function(t){return t.id===a});console.log(c);var i=n.filter(function(t){return t.id!==a});this.setState(Object(s.a)({},this.state,{cart:Object(s.a)({},this.state.cart,{cartItems:i})}),function(){e.getTotal()})}},{key:"setDiscount",value:function(t){var e,a=this;console.log("inside setDiscount",t.target.value),"fixed"===t.target.value&&(e="fixed"),"percent"===t.target.value&&(e="percent"),this.setState(Object(s.a)({},this.state,{cart:Object(s.a)({},this.state.cart,{discount:e})}),function(){a.getTotal()})}},{key:"updateQuantity",value:function(t){var e=this,a=parseInt(t.target.id),n=parseInt(t.target.value),c=this.state.cart.cartItems;if(n>0){var i=c.map(function(e){return e.id===a&&(e.quantity=t.target.value),e});this.setState(Object(s.a)({},this.state,{cart:Object(s.a)({},this.state.cart,{cartItems:i})}),function(){e.getTotal()})}}},{key:"render",value:function(){return c.a.createElement("div",{className:"App"},c.a.createElement(b,{products:this.state.products,addToCart:this.addToCart}),c.a.createElement(j,{cart:this.state.cart,subtotal:this.state.subtotal,removeCartItem:this.removeCartItem,updateQuantity:this.updateQuantity,setDiscount:this.setDiscount}))}}]),e}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}],[[13,2,1]]]);
//# sourceMappingURL=main.130b5970.chunk.js.map